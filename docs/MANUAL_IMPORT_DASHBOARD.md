# ğŸ”§ æ‰‹åŠ¨å¯¼å…¥ OKX ä»ªè¡¨æ¿ - è¯¦ç»†æ­¥éª¤

**é—®é¢˜**: Dashboard not found  
**è§£å†³æ–¹æ¡ˆ**: æ‰‹åŠ¨å¯¼å…¥ JSON é…ç½®æ–‡ä»¶

---

## ğŸ“¥ æ–¹æ³• A: ä¸Šä¼  JSON æ–‡ä»¶ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1: è¿›å…¥å¯¼å…¥é¡µé¢

1. åœ¨ Grafana é¡µé¢ (http://localhost:3000)
2. ç¡®ä¿å·²ç™»å½• (admin/admin123)
3. ç‚¹å‡»å·¦ä¾§èœå• **â˜°** (ä¸‰æ¡æ¨ªçº¿å›¾æ ‡)
4. é€‰æ‹© **Dashboards**
5. ç‚¹å‡»å³ä¸Šè§’çš„ **New** æŒ‰é’®ï¼ˆè“è‰²ï¼‰
6. åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© **Import**

æˆ–è€…ç›´æ¥è®¿é—®ï¼š
```
http://localhost:3000/dashboard/import
```

---

### æ­¥éª¤ 2: ä¸Šä¼  JSON æ–‡ä»¶

1. åœ¨å¯¼å…¥é¡µé¢ï¼Œæ‰¾åˆ° **Upload JSON file** æŒ‰é’®
2. ç‚¹å‡»è¯¥æŒ‰é’®
3. åœ¨æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ä¸­ï¼Œå¯¼èˆªåˆ°ï¼š
   ```
   C:\Users\11915\Desktop\TTQuant\monitoring\dashboards\
   ```
4. é€‰æ‹©æ–‡ä»¶ï¼š`okx-realtime-dashboard.json`
5. ç‚¹å‡» **æ‰“å¼€**

---

### æ­¥éª¤ 3: é…ç½®å¯¼å…¥é€‰é¡¹

ä¸Šä¼ åä¼šçœ‹åˆ°é…ç½®é¡µé¢ï¼š

1. **Name**: `OKX å®æ—¶è¡Œæƒ…ç›‘æ§` (ä¿æŒé»˜è®¤)
2. **Folder**: é€‰æ‹© `General` æˆ–åˆ›å»ºæ–°æ–‡ä»¶å¤¹
3. **Unique identifier (uid)**: `okx-realtime-v1` (ä¿æŒé»˜è®¤)
4. **Prometheus (æ•°æ®æº)**: 
   - åœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹© **Prometheus**
   - å¦‚æœæ²¡æœ‰ï¼Œé€‰æ‹© `-- Grafana --` æˆ–ä»»æ„å¯ç”¨é€‰é¡¹

---

### æ­¥éª¤ 4: å®Œæˆå¯¼å…¥

1. ç‚¹å‡»é¡µé¢åº•éƒ¨çš„ **Import** æŒ‰é’®ï¼ˆç»¿è‰²ï¼‰
2. ç­‰å¾… 1-2 ç§’
3. **æˆåŠŸï¼** ğŸ‰ ä½ åº”è¯¥ç«‹å³çœ‹åˆ°ä»ªè¡¨æ¿

---

## ğŸ“¥ æ–¹æ³• B: å¤åˆ¶ç²˜è´´ JSON

å¦‚æœæ–¹æ³• A ä¸è¡Œï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼š

### æ­¥éª¤ 1: å¤åˆ¶ JSON å†…å®¹

JSON æ–‡ä»¶åº”è¯¥å·²ç»åœ¨è®°äº‹æœ¬ä¸­æ‰“å¼€ï¼Œå¦‚æœæ²¡æœ‰ï¼š

1. æ‰“å¼€æ–‡ä»¶ï¼š
   ```
   C:\Users\11915\Desktop\TTQuant\monitoring\dashboards\okx-realtime-dashboard.json
   ```

2. å…¨é€‰å†…å®¹ï¼šæŒ‰ `Ctrl + A`

3. å¤åˆ¶ï¼šæŒ‰ `Ctrl + C`

---

### æ­¥éª¤ 2: åœ¨ Grafana ä¸­å¯¼å…¥

1. è®¿é—®å¯¼å…¥é¡µé¢ï¼šhttp://localhost:3000/dashboard/import

2. åœ¨é¡µé¢ä¸Šæ‰¾åˆ°æ–‡æœ¬æ¡†ï¼ˆæˆ–ç‚¹å‡» **Import via panel json**ï¼‰

3. ç²˜è´´ JSON å†…å®¹ï¼šæŒ‰ `Ctrl + V`

4. ç‚¹å‡» **Load** æŒ‰é’®

---

### æ­¥éª¤ 3: é…ç½®å¹¶å¯¼å…¥

ï¼ˆåŒæ–¹æ³• A æ­¥éª¤ 3-4ï¼‰

---

## âœ… éªŒè¯å¯¼å…¥æˆåŠŸ

å¯¼å…¥æˆåŠŸåï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š

### é¡¶éƒ¨
- æ ‡é¢˜ï¼š**OKX å®æ—¶è¡Œæƒ…ç›‘æ§**
- æ—¶é—´èŒƒå›´ï¼šLast 15 minutes
- åˆ·æ–°é¢‘ç‡ï¼š5s

### ç¬¬ä¸€è¡Œï¼ˆ2ä¸ªé¢æ¿ï¼‰
- **å·¦ä¾§**ï¼šWebSocket çŠ¶æ€å¡ç‰‡
  - æ˜¾ç¤º "å·²è¿æ¥" æˆ– "æ–­å¼€"
  - ç»¿è‰²èƒŒæ™¯ = æ­£å¸¸
- **å³ä¾§**ï¼šæ¶ˆæ¯æ¥æ”¶é€Ÿç‡æ›²çº¿å›¾
  - å®æ—¶æ³¢åŠ¨çš„æ›²çº¿

### ç¬¬äºŒè¡Œï¼ˆ1ä¸ªé¢æ¿ï¼‰
- æ¶ˆæ¯æ€»æ•°ç»Ÿè®¡

### ç¬¬ä¸‰è¡Œï¼ˆ2ä¸ªé¢æ¿ï¼‰
- **å·¦ä¾§**ï¼šå„äº¤æ˜“å¯¹æ•°æ®é€Ÿç‡ï¼ˆå¤šæ¡æ›²çº¿ï¼‰
- **å³ä¾§**ï¼šäº¤æ˜“å¯¹æ•°æ®åˆ†å¸ƒï¼ˆé¥¼å›¾ï¼‰

### ç¬¬å››è¡Œï¼ˆ1ä¸ªé¢æ¿ï¼‰
- Top 10 æ´»è·ƒäº¤æ˜“å¯¹ï¼ˆæŸ±çŠ¶å›¾ï¼‰

---

## ğŸ”§ å¦‚æœå¯¼å…¥å¤±è´¥

### é”™è¯¯ 1: "No data source found"

**åŸå› **: Prometheus æ•°æ®æºæœªé…ç½®

**è§£å†³æ–¹æ¡ˆ**:

1. ç‚¹å‡»å·¦ä¾§ **â˜°** â†’ **Connections** â†’ **Data sources**
2. ç‚¹å‡» **Add data source**
3. é€‰æ‹© **Prometheus**
4. é…ç½®ï¼š
   - Name: `Prometheus`
   - URL: `http://prometheus:9090`
5. ç‚¹å‡» **Save & test**
6. è¿”å›é‡æ–°å¯¼å…¥ä»ªè¡¨æ¿

---

### é”™è¯¯ 2: "Invalid JSON"

**åŸå› **: JSON å†…å®¹å¤åˆ¶ä¸å®Œæ•´

**è§£å†³æ–¹æ¡ˆ**:

1. é‡æ–°æ‰“å¼€ JSON æ–‡ä»¶
2. ç¡®ä¿ **å…¨é€‰** (Ctrl+A)
3. é‡æ–°å¤åˆ¶ (Ctrl+C)
4. åœ¨ Grafana ä¸­ï¼Œæ¸…ç©ºæ–‡æœ¬æ¡†
5. é‡æ–°ç²˜è´´ (Ctrl+V)
6. æ£€æŸ¥ç¬¬ä¸€è¡Œæ˜¯ `{` æœ€åä¸€è¡Œæ˜¯ `}`

---

### é”™è¯¯ 3: å¯¼å…¥åæ˜¾ç¤º "No data"

**æ£€æŸ¥æ¸…å•**:

1. âœ… **æ•°æ®æºé€‰æ‹©æ­£ç¡®**:
   - ç¼–è¾‘ä»»æ„é¢æ¿
   - æ£€æŸ¥ Data source = Prometheus

2. âœ… **Prometheus è¿è¡Œæ­£å¸¸**:
   ```powershell
   docker ps --filter "name=prometheus"
   ```

3. âœ… **OKX æœåŠ¡è¿è¡Œæ­£å¸¸**:
   ```powershell
   docker ps --filter "name=okx"
   ```

4. âœ… **æŒ‡æ ‡å¯è®¿é—®**:
   - è®¿é—® http://localhost:8082/metrics
   - åº”è¯¥çœ‹åˆ° `websocket_connected` ç­‰æŒ‡æ ‡

---

## ğŸ¯ å¿«é€Ÿæµ‹è¯•

å¯¼å…¥åç«‹å³æµ‹è¯•ï¼š

1. **åœ¨ä»ªè¡¨æ¿ä¸­**ï¼Œæ‰¾åˆ° **WebSocket çŠ¶æ€** é¢æ¿

2. åº”è¯¥æ˜¾ç¤ºï¼š
   - âœ… **ç»¿è‰²** "å·²è¿æ¥" (1)
   - æˆ– âŒ **çº¢è‰²** "æ–­å¼€" (0)

3. **æŸ¥çœ‹æ¶ˆæ¯é€Ÿç‡å›¾**ï¼š
   - åº”è¯¥æœ‰æ³¢åŠ¨çš„æ›²çº¿
   - æ•°å€¼ > 0

4. **å¦‚æœä¸€åˆ‡æ­£å¸¸**ï¼š
   - æ•°æ®æ­£åœ¨å®æ—¶æ›´æ–°
   - æ›²çº¿åœ¨ç§»åŠ¨
   - å³ä¸Šè§’åˆ·æ–°å€’è®¡æ—¶åœ¨è·‘

---

## ğŸ“ å¯¼å…¥åçš„å¸¸ç”¨æ“ä½œ

### æ”¶è—ä»ªè¡¨æ¿

1. ç‚¹å‡»é¡¶éƒ¨æ ‡é¢˜æ—çš„ **â­** (æ˜Ÿæ˜Ÿå›¾æ ‡)
2. ä»ªè¡¨æ¿ä¼šå‡ºç°åœ¨ **Starred** åˆ—è¡¨ä¸­

### è®¾ä¸ºä¸»é¡µ

1. ç‚¹å‡»æ ‡é¢˜æ—çš„ **âš™ï¸** (è®¾ç½®å›¾æ ‡)
2. é€‰æ‹© **Settings**
3. å‹¾é€‰ **Set as home dashboard**
4. ä¿å­˜

### åˆ†äº«ä»ªè¡¨æ¿

1. ç‚¹å‡»é¡¶éƒ¨ **Share** æŒ‰é’®
2. é€‰æ‹©é€‰é¡¹ï¼š
   - **Link** - å¤åˆ¶é“¾æ¥åˆ†äº«
   - **Snapshot** - åˆ›å»ºå¿«ç…§
   - **Export** - å¯¼å‡º JSON

---

## ğŸ’¡ æ•…éšœæ’æŸ¥å‘½ä»¤

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¿è¡Œè¿™äº›å‘½ä»¤ï¼š

```powershell
# æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
docker compose -f docker/docker-compose.prod.yml ps

# é‡å¯ Grafana
docker compose -f docker/docker-compose.prod.yml restart grafana

# æŸ¥çœ‹ Grafana æ—¥å¿—
docker logs ttquant-grafana --tail 50

# æµ‹è¯• Prometheus
curl http://localhost:9090/api/v1/query?query=websocket_connected

# æµ‹è¯• OKX æŒ‡æ ‡
curl http://localhost:8082/metrics | Select-String "websocket"
```

---

## ğŸ¨ å¯¼å…¥æˆåŠŸåçš„æ•ˆæœ

ä½ åº”è¯¥çœ‹åˆ°ä¸€ä¸ª**ç°ä»£åŒ–çš„æ·±è‰²ä¸»é¢˜ä»ªè¡¨æ¿**ï¼ŒåŒ…å«ï¼š

- ğŸŸ¢ **çŠ¶æ€æŒ‡ç¤ºå™¨** - ä¸€ç›®äº†ç„¶çš„è¿æ¥çŠ¶æ€
- ğŸ“ˆ **å®æ—¶æ›²çº¿å›¾** - æµç•…çš„æ•°æ®æ›´æ–°åŠ¨ç”»
- ğŸ¥§ **é¥¼å›¾** - æ•°æ®åˆ†å¸ƒå¯è§†åŒ–
- ğŸ“Š **æŸ±çŠ¶å›¾** - Top æ’åå±•ç¤º
- âš¡ **è‡ªåŠ¨åˆ·æ–°** - æ— éœ€æ‰‹åŠ¨åˆ·æ–°

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **Grafana ä½¿ç”¨æŒ‡å—**: [`docs/GRAFANA_GUIDE.md`](GRAFANA_GUIDE.md)
- **ä»ªè¡¨æ¿é…ç½®**: `monitoring/dashboards/okx-realtime-dashboard.json`
- **OKX æˆåŠŸæ€»ç»“**: [`SUCCESS_OKX.md`](../SUCCESS_OKX.md)

---

## ğŸ†˜ ä»ç„¶æ— æ³•å¯¼å…¥ï¼Ÿ

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½å¤±è´¥ï¼Œè¿è¡Œè¯Šæ–­ï¼š

```powershell
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
Test-Path "C:\Users\11915\Desktop\TTQuant\monitoring\dashboards\okx-realtime-dashboard.json"

# æŸ¥çœ‹æ–‡ä»¶å¤§å°
Get-Item "C:\Users\11915\Desktop\TTQuant\monitoring\dashboards\okx-realtime-dashboard.json" | Select-Object Length

# éªŒè¯ JSON æ ¼å¼
Get-Content "C:\Users\11915\Desktop\TTQuant\monitoring\dashboards\okx-realtime-dashboard.json" | ConvertFrom-Json
```

å¦‚æœå‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œæ–‡ä»¶å°±æ˜¯æœ‰æ•ˆçš„ï¼Œç»§ç»­å°è¯•æ–¹æ³• A æˆ– Bã€‚

---

**åˆ›å»ºæ—¶é—´**: 2026-02-10 20:24  
**çŠ¶æ€**: ç­‰å¾…æ‰‹åŠ¨å¯¼å…¥  
**ä¼°è®¡æ—¶é—´**: 2-3 åˆ†é’Ÿ  
**éš¾åº¦**: â­â­â˜†â˜†â˜† (ç®€å•)

**æç¤º**: å»ºè®®ä½¿ç”¨æ–¹æ³• A (ä¸Šä¼ æ–‡ä»¶)ï¼Œæœ€ç®€å•å¿«é€Ÿï¼
